---
title: Java核心知识点整理
abbrlink: 61289dff
---

## JVM

(1) 基本概念：

JVM是可运行Java代码的假想计算机，包括一套字节码指令集、一组寄存器、一个栈、一个垃圾回收，堆 和一个存储方法域。JVM是运行在操作系统之上的，它与硬件没有直接的交互。

我们都知道Java源文件，通过编译器，能够生产相应的class文件，也就是字节码文件，二字节码文件又通过Java虚拟机中的解释器，编译成特定机器上的机器码。

也就是如下：

1. Java源文件 -> 编译器 -> 字节码文件
2. 字节码文件 -> JVM -> 机器码。

每一种平台的解释器是不同的，但是实现的虚拟机是相同的，这也就是Java为什么能够跨平台的原因了。当一个程序从开始运行，这是虚拟机已经开始实例化了，多个程序启动就会存在多个虚拟机实例。程序退出或关闭，则虚拟机实例消亡。多个虚拟机实例之间数据就不能共享。

2.1 线程

这里所说的线程是指程序执行过程中的一个线程实体。JVM允许一个应用并发的执行多个线程。Hotspot JVM 中的Java线程与原生操作系统线程有直接的映射关系。**当线程本地存储、缓冲区分配、同步对象、栈、程序计数器等准备好以后，就会创建一个操作系统的原生线程。Java线程结束，原生线程随之被回收。操作系统负责调度所有线程，并把它们分配到任何可用的CPU上。当原生线程初始化完毕，iu会调用Java线程的run()方法。当线程结束时，会释放原生线程和Java线程的所有资源。**

JVM内存区域只要分为线程私有区域【程序计数器、虚拟机栈、本地方法区】、线程共享区【Java堆、方法区】、直接内存。

**线程私有数据区域生命周期与线程是相同的，以来用户线程的而启动/结束 而 创建/销毁**，每个线程都有与操作系统的本地线程直接映射，因此这部分内存区域的存在与否随本地线程的生死对应。

**线程共享区域随虚拟机的启动/关闭而创建/销毁****直接内存并不是JVM运行时数据区的一部分**但也会被频繁地使用，在JDK1.4引入的**NIO提供了基于Channel与Buffer的IO方式，它可以使用Native函数库直接分配对外内存，然后使用DirectByteBuffer对象作为这块内存的引用进行操作，这样就避免了在Java堆和Native堆中来回复制数据，因此在一些场景中可以显著提高性能。**

2.2.1. 程序计数器-线程私有

一块较小的内存空间



## 5. Java基础

5.1.1. Java异常分类及处理

5.1.1.1. 概念

如果某个方法不能按照正常的途径完成任务，就可以通过另一种路径退出方法。在这种情况下会抛出一个封装了错误信息的对象。此时，这个方法会立刻推出同时不返回任何值。另外调用这个方法的其他代码也无法继续执行。