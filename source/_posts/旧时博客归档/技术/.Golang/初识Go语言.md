---
title: Go_01 初识Go语言
tags: Go
category: Go之路
comments: false
abbrlink: e9c2da85
date: 2019-07-11 10:32:45
#password:
---

其实很早就听说了Go语言，只是在最近才真正的深入去了解，购买了《Go In Action》，下载了《Go Programming Language》，开始新的Go之路。由于我已经基本上学了一遍Go基础，所以今天是按照顺序，总结一个Go语言基础知识。

<!-- more -->

## 初识Go语言



Go语言是一种高级编程语言，Go语言对传统面向对象开发进行了重新的思考，提供了更高效的复用代码手段。Go语言还能让用户更高效地利用昂贵的服务器上的所有核心，而且它编译大型项目的速度也很快。

Go语言内置并发机制，所以不用被迫使用特定的线程库，就能让软件扩展，使用更多的资源。Go语言的类型系统简单且高效，不需要为面向对象开发付出额外的心智，让开发者能专注于代码复用。Go语言还自带了垃圾回收器，不需要用户自己管理内存。

Go语言的**开发速度**：编译一个大型的Go语言项目并不需要很长时间，这是因为Go语言使用了更加智能的编译器，并且简化了解决依赖的算法，最终提供了更快的编译速度。在编译Go程序时，编译器只会关注那些直接被引用的库，而不是像Java、Python那样，要遍历依赖链中所有依赖的库。没有[从编译代码到执行代码的中间过程][1],用动态语言编写的应用程序可以可以快速看到输出。但这样做的代价是：动态语言不提供静态语言提供的类型安全特性，不得不经常用大量的测试套件来避免在运行时出现类型错误这种bug。

Go语言**对并发的支持**是这门语言的重要特性之一，在Go语言中，有一个名词，叫做*goroutine*，中文名字叫协程（不是携程😀），协程很像线程，但比协程占用的内存要小很多（远小于），使用它需要的代码更少。

> 大家应该知道最初操作系统最细粒度的调度是内核级线程（Thread），线程其实就是一个栈加一堆资源。操作系统一会将CPU的时间片分给线程A，一会将CPU的时间片分给线程B，靠A和B的栈来保存A和B的执行状态。起初软件的并发处理并不多，线程池完全够用，但随着软件的复杂度增高，并发量越来越大，线程成了稀缺资源，所以go发明了goroutine，提高线程在异步处理中的利用率。[[⇲]][2]

通道**channel**是一种内置的数据结构，可以让用户在不同的goroutine之间同步发送具有类型的消息。这让编程模式更倾向于在goroutine之间发送消息，而不是让多个goroutine争夺同一个数据的使用权。让我们看看这些特性的细节。

### goroutine

goroutine是可以与其他协程并行执行的函数，同时也会与主程序（程序的入口）并行执行。在其他的编程语言中，你需要用线程来完成同样的事情，而在Go语言中，Go语言会使用同一个线程来执行多个协程。

### channel

通道是一种数据结构，可以让协程之间进行安全的数据通信。通道可以帮用户避免其他语言里常见的[共享内存访问的问题][3]。它提供了一种新的模式，保证并发修改时的数据安全。但是通道并不提供跨协程的数据访问保护机制。

### Go语言的类型系统

Go语言提供了灵活的、无继承的类型系统，无需降低运行性能就能最大程度上复用代码。而且他的类型系统足以避免动态语言中那些粗心的类型错误，但是Go语言的类型系统相比传统的强类型语言又要简洁很多。Go开发者使用**组合**设计模式，只需要简单的将一个类型嵌入到另一个类型，就能复用其所有功能。避免了其他语言复杂的基于继承的模型。

#### 类型简单

Go语言有类似`int`和`string`这样的内置类型，也可以支持用户自定义的类型。

#### Go接口对一组行为建模

接口用于描述类型的行为。如果一个类型的实例实现了一个接口，意味着这个实例可以执行一组特定的行为（**[鸭子类型][4]**）

![继承和组合的对比](https://i.loli.net/2019/10/31/orBfPIDqiZ8dVAn.png)

#### 内存管理

Go语言会把无趣的内存管理交给专业的编译器去做，而让程序员更加专注于更有趣的事情。

### Hello，World

```go
package main

import "fmt"

func main() {
    fmt.Println("Hello, ROYIANS")
}
```

[( ^ω^)]: # "链接放下面"
[1]: ## "就像Java会在编译中生成中间文件：.class"
[2]: https://www.jianshu.com/p/7ebf732b6e1f "作者：DifficultWork 来源：简书 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"
[3]: ## "在其他语言中，如果使用全局变量或者共享内存，必须使用复杂的锁规则来防止对同一个变量的不同步修改"
[4]: https://en.wikipedia.org/wiki/Duck_typing "当看到一只鸟走起来像鸭子、游泳起来像鸭子、叫起来也像鸭子，那么这只鸟就可以被称为鸭子"